{"version":3,"sources":["../../src/server/index.js"],"names":["admin","functions","next","initializeApp","dev","process","env","NODE_ENV","app","conf","distDir","handle","getRequestHandler","exports","nextServer","https","onRequest","request","response","console","log","originalUrl","prepare","then"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,gBAAvB;;AAEA,OAAO,KAAKC,SAAZ,MAA2B,oBAA3B;;AAEA,OAAOC,IAAP,MAAiB,MAAjB;;AAIAF,MAAMG,aAAN;;AAIA,MAAMC,MAAMC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAArC;;AAEA,MAAMC,MAAMN,KAAK;;AAEjBE,KAFiB;;AAIjB;;AAEA;;AAEAK,QAAM,EAAEC,SAAS,aAAX;;AARW,CAAL,CAAZ;;AAYA,MAAMC,SAASH,IAAII,iBAAJ,EAAf;;AAIAC,QAAQC,UAAR,GAAqBb,UAAUc,KAAV,CAAgBC,SAAhB,CAA0B,CAACC,OAAD,EAAUC,QAAV,KAAuB;;AAEtE;;AAEAC,UAAQC,GAAR,CAAY,WAAWH,QAAQI,WAA/B;;AAEA,SAAOb,IAAIc,OAAJ,GAAcC,IAAd,CAAmB,MAAMZ,OAAOM,OAAP,EAAgBC,QAAhB,CAAzB,CAAP;AAEC,CARoB,CAArB","file":"index.js","sourcesContent":["import * as admin from \"firebase-admin\";\n\nimport * as functions from \"firebase-functions\";\n\nimport next from \"next\";\n\n \n\nadmin.initializeApp();\n\n \n\nconst dev = process.env.NODE_ENV !== \"production\";\n\nconst app = next({\n\ndev,\n\n// the absolute directory from the package.json file that initialises this module\n\n// IE: the absolute path from the root of the Cloud Function\n\nconf: { distDir: \"dist/client\" },\n\n});\n\nconst handle = app.getRequestHandler();\n\n \n\nexports.nextServer = functions.https.onRequest((request, response) => {\n\n// log the page.js file or resource being requested\n\nconsole.log(\"File: \" + request.originalUrl);\n\nreturn app.prepare().then(() => handle(request, response));\n\n});"]}